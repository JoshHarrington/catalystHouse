var PAGE,keyCodes=[],triggerNames=["Bath water"],triggerFunctions=[],configState=0,nextKeyCodeIndex=0,currentKeyStates=[],triggerDescriptions=[{msgStaffOn:"The floor is wet",msgStaffOff:"The floor is dry",msgCustomerOn:"We'll be round shortly",msgCustomerOff:"Feedback stage"}];!function(e){"use strict";PAGE=function(){function t(){e("article").addClass("hide"),e(".setup").removeClass("hide"),n()}function n(){e(".hello").html(triggerNames[nextKeyCodeIndex])}function r(e){for(var t=-1,n=0;n<keyCodes.length;n++)if(keyCodes[n]==e){t=n;break}-1!=t&&1!=currentKeyStates[t]&&(currentKeyStates[t]=1,l[t](!1))}function s(e){for(var t=-1,n=0;n<keyCodes.length;n++)if(keyCodes[n]==e){t=n;break}-1!=t&&0!=currentKeyStates[t]&&(currentKeyStates[t]=0,l[t](!0))}function i(e){o(i,!e),a(i,!e)}function o(t,n){for(var r=0;r<l.length;r++)l[r]==t&&(n?e(".main .StaffScreen ul").append("<li>"+triggerDescriptions[r].msgStaffOn+"</li>"):e(".main .StaffScreen ul").append("<li>"+triggerDescriptions[r].msgStaffOff+"</li>"))}function a(t,n){for(var r=0;r<l.length;r++)l[r]==t&&(n?e(".main .endUserScreen ul").append("<li>"+triggerDescriptions[r].msgCustomerOn+"</li>"):e(".main .endUserScreen ul").append("<li>"+triggerDescriptions[r].msgCustomerOff+"</li>"))}function c(e){var t=e.keyCode?e.keyCode:e.charCode;d(t,!1)}function f(e){var t=e.keyCode?e.keyCode:e.charCode;d(t,!0)}function d(e,t){switch(e){case 87:case 65:case 83:case 68:case 70:case 71:case 32:case 38:case 40:case 39:case 37:t?0==configState?g(e):s(e):0==configState?u(e):r(e)}}function u(e){for(var t=!1,n=0;n<keyCodes.length;n++)if(keyCodes[n]==e){t=!0;break}0==t&&(keyCodes.push(e),currentKeyStates.push(0))}function g(){nextKeyCodeIndex++,nextKeyCodeIndex==l.length?(configState=1,e(".setup").addClass("hide"),e(".main").removeClass("hide")):n()}var l=[i];return{init:function(){document.onkeydown=c,document.onkeyup=f,t()}}}(),e(function(){PAGE.init()})}(jQuery);