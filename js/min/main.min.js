var PAGE,configState=0,nextKeyCodeIndex=0,triggers=[{name:"Bath water",msgStaffOn:"The floor is wet",msgStaffOff:"The floor is dry",msgCustomerOn:"We'll be round shortly",msgCustomerOff:"Feedback stage",currentKeyState:0,"function":null,keyCode:-1}],EVENT={BATH_WATER:0};!function(e){"use strict";PAGE=function(){function t(){e("article").addClass("hide"),e(".setup").removeClass("hide"),r()}function r(){e(".hello").html(triggers[nextKeyCodeIndex].name)}function n(e){for(var t=-1,r=0;r<triggers.length;r++)if(triggers[r].keyCode==e){t=r;break}-1!=t&&1!=triggers[t].currentKeyState&&(triggers[t].currentKeyState=1,triggers[t].function(!1))}function i(e){for(var t=-1,r=0;r<triggers.length;r++)if(triggers[r].keyCode==e){t=r;break}-1!=t&&0!=triggers[t].currentKeyState&&(triggers[t].currentKeyState=0,triggers[t].function(!0))}function g(e){s(g,!e),o(g,!e)}function s(t,r){for(var n=0;n<triggers.length;n++)triggers[n].function==t&&(r?e(".main .StaffScreen ul").append("<li>"+triggers[n].msgStaffOn+"</li>"):e(".main .StaffScreen ul").append("<li>"+triggers[n].msgStaffOff+"</li>"))}function o(t,r){for(var n=0;n<triggers.length;n++)triggers[n].function==t&&(r?e(".main .endUserScreen ul").append("<li>"+triggers[n].msgCustomerOn+"</li>"):e(".main .endUserScreen ul").append("<li>"+triggers[n].msgCustomerOff+"</li>"))}function a(e){var t=e.keyCode?e.keyCode:e.charCode;c(t,!1)}function f(e){var t=e.keyCode?e.keyCode:e.charCode;c(t,!0)}function c(e,t){switch(e){case 87:case 65:case 83:case 68:case 70:case 71:case 32:case 38:case 40:case 39:case 37:t?0==configState?d(e):i(e):0==configState?u(e):n(e)}}function u(e){for(var t=-1,r=0;r<triggers.length;r++)if(triggers[r].keyCode==e){t=r;break}-1==t&&(triggers[nextKeyCodeIndex].keyCode=e,triggers[nextKeyCodeIndex].currentKeyState=0)}function d(){nextKeyCodeIndex++,nextKeyCodeIndex==triggers.length?(configState=1,e(".setup").addClass("hide"),e(".main").removeClass("hide")):r()}return triggers[EVENT.BATH_WATER].function=g,{init:function(){document.onkeydown=a,document.onkeyup=f,t()}}}(),e(function(){PAGE.init()})}(jQuery);